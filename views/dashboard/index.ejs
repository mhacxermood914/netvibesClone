<div 
  x-data="{ openSideBar: true}"
  class="h-screen"
>
  <!-- Nav header  -->
  <nav class="bg-gray-800 flex items-center justify-between">
    <div class="flex items-center justify-center space-x-2 text-white">
      <button class="text-md bg-green-500 text-white font-medium p-2">Add</button>
      <div class="flex space-x-2 text-white">
        app <span class="material-icons">view_module</span>
      </div>
      <h2> reader</h2>
    </div>
    <div class="flex space-x-3 text-white pr-4">
        <span class="material-icons">space_dashboard</span>
        <div class="h-7 w-0.5 bg-gray-500"></div>
        <h2 class="ml-">Dashboard</h2>
        <div class="h-7 w-0.5 bg-gray-500"></div>
        <div class="text-center flex items-center">
          <span class="material-icons bg-green-500 p-0.5 mr-1.5">face</span>
          John Doe
        </div>
    </div>
  </nav>
  <div class="flex h-full">
    <!-- sidebar  -->
    <section
    x-show="openSideBar"
    x-transition
     class="h-full w-80 divide-y-2 divide-gray-600 bg-gray-700 h-full"
    >
        <h2 class="py-6 px-2 text-3xl font-semibold text-gray-400">ZeddVibes</h2>
        <div x-data="{ open: false, iconText: '' }">
          <button @click="open = !open" class="flex w-full text-gray-300 space-x-2 px-2 py-1">
            <span x-text="open ? 'arrow_drop_down' : 'arrow_right' " class="material-icons">arrow_right</span>
            <h2>Weather Widget</h2>
          </button>
          <div 
            x-show="open" 
            @click="open = !open" 
            class="text-gray-400 text-md pl-10 border-t-2 border-gray-600">
            <button class="hover:bg-gray-800 p-1 text-left w-full">Display temperature of specific city</button>
            <!-- <button class="hover:bg-gray-800 p-1 text-left w-full">TrendNow</button>
            <button class="hover:bg-gray-800 p-1 text-left w-full">TrendNow</button>
            <button class="hover:bg-gray-800 p-1 text-left w-full">TrendNow</button> -->
          </div>
        </div>
        <div x-data="{ open: false, iconText: '' }">
          <button @click="open = !open" class="flex w-full text-gray-300 space-x-2 px-2 py-1">
            <span x-text="open ? 'arrow_drop_down' : 'arrow_right' " class="material-icons">arrow_right</span>
            <h2>Exchange Widget</h2>
          </button>
          <div 
            x-show="open" 
            @click="open = !open" 
            class="text-gray-400 text-md pl-10 border-t-2 border-gray-600">
            <button class="hover:bg-gray-800 p-1 text-left w-full">Display the exchange rate of a currency pair M1 / M2</button>
            <button class="hover:bg-gray-800 p-1 text-left w-full">Display of the evolution of the price of an A share</button>
            <!-- <button class="hover:bg-gray-800 p-1 text-left w-full">TrendNow</button>
            <button class="hover:bg-gray-800 p-1 text-left w-full">TrendNow</button> -->
          </div>
        </div>
        <div x-data="{ open: false, iconText: '' }">
          <button @click="open = !open" class="flex w-full text-gray-300 space-x-2 px-2 py-1">
            <span x-text="open ? 'arrow_drop_down' : 'arrow_right' " class="material-icons">arrow_right</span>
            <h2>Youtube Widget</h2>
          </button>
          <div 
            x-show="open" 
            @click="open = !open" 
            class="text-gray-400 text-md pl-10 border-t-2 border-gray-600">
            <button class="hover:bg-gray-800 p-1 text-left w-full">Display of the number of subscribers for the chain C</button>
            <button class="hover:bg-gray-800 p-1 text-left w-full">View number of views for video V</button>
            <button class="hover:bg-gray-800 p-1 text-left w-full">Displaying the last N comments for video V</button>
          </div>
        </div>
        <div x-data="{ open: false, iconText: '' }">
          <button @click="open = !open" class="flex w-full text-gray-300 space-x-2 px-2 py-1">
            <span x-text="open ? 'arrow_drop_down' : 'arrow_right' " class="material-icons">arrow_right</span>
            <h2>Reddit Widget</h2>
          </button>
          <div x-show="open" @click="open = !open" class="text-gray-400 text-md pl-10 border-t-2 border-gray-600">
            <button class="hover:bg-gray-800 p-1 text-left w-full">Display of the last N posts for subreddit S</button>
          </div>
        </div>
    </section>

    <!-- content wrapper  -->
    <section class=" w-full">
      <!-- head  -->
      <div class="bg-gray-100 py-2 flex items-center space-x-3 text-xl">
        <button @click="openSideBar = !openSideBar" class="appearance-none">
          <span class="material-icons text-xl pl-2">menu</span>
        </button>
        <h2></h2>
      </div>
      <!-- content  -->
      <div class="w-full grid grid-cols-4 gap-3 p-3 ">
        <!-- Weather Content -->
        <div>
          <div class=" shadow-md bg-gray-200">
            <div class="hiddenClass">
              <div class=""  id="weatherClass">
                <div class="flex justify-between text-semibold border-b border-black px-2 py-2">
                  <h1>
                    <strong><i class="fas fa-film"></i> Weather Widget
                  </h1></strong>
                  <button id="removeWindowCinemaButton"><strong>X</strong></button>
                </div>
          
                <form  method="POST" class="px-2 mt-2 h-24s" id="weather-form">
  
                  <label for="">Get Temperature display for a city V </label>
  
                  <input type="text" placeholder="Ex : Paris" name="cityWeather" id="cityWeather" class="my-3" required>
  
                  <input type="submit" value="Submit">
  
                </form>
  
                <div class="display-temperature hidden px-2 py-4">
                </div>
          
              </div>
            </div>
          </div>

        </div>

        <!-- Youtube Content -->
        <div class="h-80 shadow-md bg-gray-200">1</div>
        <div class="h-80 shadow-md bg-gray-200">2</div>

        <!--Cinema Division-->

        <div class="h-80 shadow-md bg-gray-200">
          <div class="hiddenClass">
            <div class="cinemaClass" id="cinemaClass">
              <div class="flex justify-between text-semibold border-b border-black px-2 py-2">
                <h1>
                  <strong><i class="fas fa-film"></i> Cinema Widget</h1></strong>
                  <button id="removeWindowCinemaButton"><strong>X</strong></button>
              </div>

              <h1 class="px-2">List of the dayâ€™s screenings for cinema C</h1>

              <div>

              </div>


              <form action="/saveWidget" method="POST" class="px-2">
                
                

              </form>
            
            </div>
          </div>
        </div>

        
        



       
      </div>
    </section>
  </div>

</div>
<script>

  const weatherForm = document.getElementById('weather-form')

  console.log(weatherForm)

  if(weatherForm){
    weatherForm.addEventListener('submit',(e)=>{

        e.preventDefault()
      
        const target = e.target
      
        const city = target.elements['cityWeather'].value

        createWeatherWidget(city)
    })
  }

</script>
